<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="shortcut icon" type="image/jpg" href="./favicon.jpg"> -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.130.1/build/three.min.js"></script>
    <script src= "./OrbitControls.js"></script>
   <link rel="stylesheet" type="text/css" href="style.css">
    <script src = 'Maze.js'></script>
    <script src = 'cell.js'></script>
    <script src = 'stack.js'></script>
 
    <script>
      let scene, camera, renderer, floor_3D , cell ,cell1 , maze , controls , render;

      function createWorld()
      {
        // The floor
        const floorGeometry = new THREE.PlaneGeometry(500, 500, 10, 10); 
        //will make the size as a variable for the user to define later// and change the geometry of the palnes in the cell as well//
        const floorMaterial = new THREE.MeshBasicMaterial({
          color: "#f6edf6",
          side: THREE.DoubleSide
        });
        const floor = new THREE.Mesh(floorGeometry, floorMaterial);
        floor.rotation.x = -Math.PI / 2;
        floor.position.set (0,-20,0);

        floor_3D = new THREE.Object3D();
        floor_3D.add(floor);
        
        maze = new Maze(5 , 5);
        maze.position.set(0 , 0 , -10);
        maze.DFS(maze.grid[0][0]);
        // cell = new Cell(0 , 0 , 10 , 10);
        // cell.removeWall("leftPlane");
        // scene.add(cell);
        
        
        // The group
        const group = new THREE.Group();
        group.add(floor_3D);
        

        scene.add(group);
      }


      function init() {
        const canvas = document.createElement('canvas');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        scene = new THREE.Scene();
        scene.background = new THREE.Color("#e4cae4");
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.set(-30, 250, 150);

        renderer = new THREE.WebGLRenderer({ canvas ,antialias :true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(0, 1, 0);
        scene.add(directionalLight);

        const ambientLight = new THREE.AmbientLight(0x404040);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xffffff, 1, 100);
        pointLight.position.set(0, 10, 10);
        scene.add(pointLight);

        const hemisphereLight = new THREE.HemisphereLight(0xeeeeff, 0x777788, 0.75);
        hemisphereLight.position.set(0.5, 1, 0.75);
        scene.add(hemisphereLight);

        createWorld();
        controls = new THREE.OrbitControls(camera, canvas);
        controls.enablePan = false;
        controls.enableZoom = true;
        controls.addEventListener("change", render);


        animate();
      }

      function animate() {
        requestAnimationFrame(animate);
        //floor_3D.rotation.y += 0.01; // rotate the floor_3D object around the y-axis
        
      // cell.rotateX -= 0.01;
        renderer.render(scene, camera);
      }

      window.onload = init;

          
          
    </script>
  </head>

  <body>
     
  </body>

  </html>

 
  
